<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIV Страхование</title>
    <link rel="icon" type="image/svg" href="/frontend/icons/biv-logo.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header-logo">
            <img src="/frontend/icons/biv-logo.svg" alt="Логотип" width="65" height="30">
        </div>
        <div class="insurance">
            КОНФИГУРАТОР СТРАХОВОГО ПРОДУКТА
        </div>
    </header>

    <nav class="navigation" id="sidebar">
        <button class="toggle-btn" id="toggleBtn">
            <img src="/frontend/icons/burger.svg" alt="">
        </button>
        <div class="sidebar-content">
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/choosen-burger.svg" alt="">
                <span>Конструктор продуктов</span>
            </a>
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/notchoosen-burger.svg" alt="">
                <span>Реестр договоров</span>
            </a>
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/notchoosen-burger.svg" alt="">
                <span>Реестр клиентов</span>
            </a>
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/notchoosen-burger.svg" alt="">
                <span>Сервис печати</span>
            </a>
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/notchoosen-burger.svg" alt="">
                <span>Сервис расчётов</span>
            </a>
            <a href="#" class="sidebar-link">
                <img src="/frontend/icons/user-icon.svg" alt="">
                <span>Профиль</span>
            </a>
        </div>
    </nav>

    <main class="content" id="mainContent">
        <div class="calendar-section draggable">
            <div class="calendar-header">
                <div class="calendar-title">Срок страхования продукта</div>
                <div class="calendar-date">
                    <input type="text" id="selectedDate" readonly>
                </div>
            </div>
            <div class="calendar-body">
                <div class="calendar-month">
                    <button id="prevMonth">&lt;</button>
                    <span id="currentMonth"></span>
                    <button id="nextMonth">&gt;</button>
                </div>
                <div class="calendar-days">
                    <div class="day">Пн</div>
                    <div class="day">Вт</div>
                    <div class="day">Ср</div>
                    <div class="day">Чт</div>
                    <div class="day">Пт</div>
                    <div class="day">Сб</div>
                    <div class="day">Вс</div>
                </div>
                <div class="calendar-dates" id="calendarDates"></div>
            </div>
        </div>
        
        <div class="currency-widget draggable">
            <div class="widget-header">
                <div class="widget-title">Валюта страховой суммы</div>
            </div>
            <div class="widget-body">
                <select id="currencySelect">
                    <option value="eur">Евро</option>
                    <option value="rub">Российский рубль</option>
                    <option value="usd">Доллар США</option>
                    <option value="cny">Юань</option>
                </select>
                <button class="dependencyBtn">Зависимости</button>
            </div>
        </div>

        <div class="organization-widget draggable">
            <div class="widget-header">
                <div class="widget-title">Тип организации страхования</div>
            </div>
            <div class="widget-body">
                <select id="organizationSelect">
                    <option value="agent">Агент</option>
                    <option value="office">Офис</option>
                    <option value="partner">Партнёр</option>
                </select>
                <button class="dependencyBtn">Зависимости</button>
            </div>
        </div>

        <div class="dependency-window" id="dependencyWindow" style="display: none;">
            <div class="window-header">
                <div class="window-title">Редактор зависимостей</div>
                <button id="closeDependencyBtn">Закрыть</button>
            </div>
            <div class="window-body">
                <div class="dependency-editor">
                    <label for="dependencyField1">Поле 1:</label>
                    <select id="dependencyField1">
                        <option value="currency">Валюта страховой суммы</option>
                        <option value="organization">Тип организации страхования</option>
                    </select>
                    <label for="dependencyField2">Поле 2:</label>
                    <select id="dependencyField2">
                        <option value="currency">Валюта страховой суммы</option>
                        <option value="organization">Тип организации страхования</option>
                    </select>
                    <button id="addDependencyBtn">Добавить зависимость</button>
                </div>
                <div class="dependency-list" id="dependencyList">
                    <!-- Здесь будут отображаться зависимости -->
                </div>
            </div>
        </div>
        
        <button class="new-article" id="newArticleBtn">
            Добавить элемент
        </button>
        <div class="new-article-form" id="newArticleForm" style="display: none;">
            <div class="form-header">
                <h3>Добавление элемента</h3>
            </div>
            <div class="form-content">
                <div class="form-section">
                    <label>Выберите категорию:</label>
                    <div class="category-icons">
                        <label>
                            <input type="radio" name="category" value="medical" checked>
                            <img src="/frontend/icons/type_medicine.svg" alt="Медицинское обслуживание">
                        </label>
                        <label>
                            <input type="radio" name="category" value="car">
                            <img src="/frontend/icons/type_car.svg" alt="Машина">
                        </label>
                        <label>
                            <input type="radio" name="category" value="person">
                            <img src="/frontend/icons/type_person.svg" alt="Человек">
                        </label>
                        <label>
                            <input type="radio" name="category" value="house">
                            <img src="/frontend/icons/type_apartment.svg" alt="Жильё">
                        </label>
                    </div>
                </div>
                <div class="form-section" id="existingTemplates">
                    <!-- Существующие шаблоны будут отображаться здесь -->
                </div>
                <div class="form-section">
                    <button id="createNewElementBtn">Создать новый элемент</button>
                </div>
                <div class="form-section" id="newElementForm" style="display: none;">
                    <label for="newElementName">Название элемента:</label>
                    <input type="text" id="newElementName" placeholder="Название элемента" required>
                    <label for="newElementType">Тип данных:</label>
                    <select id="newElementType">
                        <option value="text">Текст</option>
                        <option value="number">Число</option>
                        <option value="date">Дата</option>
                        <!-- Добавьте другие типы данных по аналогии -->
                    </select>
                    <label for="newElementDependency">Зависимость от элемента:</label>
                    <select id="newElementDependency">
                        <option value="">Нет зависимости</option>
                        <!-- Зависимости будут заполняться динамически -->
                    </select>
                    <button id="saveNewElementBtn">Сохранить</button>
                </div>
            </div>
        </div>
        <div class="draggable-items" id="draggableItems"></div>
    </main>
    
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
</body>
</html>